<!-- Dashboard Stats -->
<div class="dashboard-stats">
    <div class="stat-card total">
        <div class="stat-header">
            <div>
                <div class="stat-title">Tổng số sự kiện</div>
                <div class="stat-value"><%= events.length %></div>
            </div>
            <div class="stat-icon total">
                <i class="fas fa-calendar"></i>
            </div>
        </div>
    </div>
    
    <div class="stat-card upcoming">
        <div class="stat-header">
            <div>
                <div class="stat-title">Sự kiện sắp tới</div>
                <div class="stat-value">
                    <%= events.filter(event => new Date(event.time) > new Date()).length %>
                </div>
            </div>
            <div class="stat-icon upcoming">
                <i class="fas fa-clock"></i>
            </div>
        </div>
    </div>
    
    <div class="stat-card past">
        <div class="stat-header">
            <div>
                <div class="stat-title">Đã diễn ra</div>
                <div class="stat-value">
                    <%= events.filter(event => new Date(event.time) < new Date()).length %>
                </div>
            </div>
            <div class="stat-icon past">
                <i class="fas fa-check-circle"></i>
            </div>
        </div>
    </div>
    
    <div class="stat-card today">
        <div class="stat-header">
            <div>
                <div class="stat-title">Hôm nay</div>
                <div class="stat-value">
                    <%= events.filter(event => {
                        const eventDate = new Date(event.time);
                        const today = new Date();
                        return eventDate.toDateString() === today.toDateString();
                    }).length %>
                </div>
            </div>
            <div class="stat-icon today">
                <i class="fas fa-calendar-day"></i>
            </div>
        </div>
    </div>
</div>

<!-- Quick Actions -->
<div class="quick-actions">
    <h3><i class="fas fa-bolt"></i> Thao tác nhanh</h3>
    <div class="action-buttons">
        <a href="/events/add" class="btn btn-success">
            <i class="fas fa-plus"></i>
            Thêm sự kiện mới
        </a>
        <a href="/events" class="btn">
            <i class="fas fa-list"></i>
            Xem tất cả sự kiện
        </a>
        <a href="/analytics" class="btn btn-warning">
            <i class="fas fa-chart-line"></i>
            Xem thống kê
        </a>
    </div>
</div>

<!-- Recent Events -->
<div class="events-section">
    <div class="section-header">
        <h2 class="section-title">
            <i class="fas fa-history"></i>
            Sự kiện gần đây
        </h2>
        <a href="/events" class="btn btn-small">
            <i class="fas fa-arrow-right"></i>
            Xem tất cả
        </a>
    </div>

    <% if (events.length === 0) { %>
        <div class="empty-state">
            <i class="fas fa-calendar-plus"></i>
            <h3>Chưa có sự kiện nào</h3>
            <p>Hãy bắt đầu bằng cách thêm sự kiện đầu tiên của bạn!</p>
            <a href="/events/add" class="btn btn-success">
                <i class="fas fa-plus"></i>
                Thêm sự kiện đầu tiên
            </a>
        </div>
    <% } else { %>
        <div class="events-grid">
            <% events.slice(0, 6).forEach(event => { %>
                <div class="event-card">
                    <h3 class="event-title"><%= event.title %></h3>
                    
                    <div class="event-time">
                        <i class="fas fa-clock"></i>
                        <%= new Date(event.time).toLocaleString('vi-VN', {
                            year: 'numeric',
                            month: 'long',
                            day: 'numeric',
                            hour: '2-digit',
                            minute: '2-digit'
                        }) %>
                    </div>
                    
                    <div class="event-description">
                        <%= event.description.length > 100 ? 
                            event.description.substring(0, 100) + '...' : 
                            event.description %>
                    </div>
                    
                    <div class="event-address">
                        <i class="fas fa-map-marker-alt"></i>
                        <%= event.address %>
                    </div>
                    
                    <div class="event-actions">
                        <a href="/events/edit/<%= event.id %>" class="btn btn-warning btn-small">
                            <i class="fas fa-edit"></i>
                            Sửa
                        </a>
                        <form method="POST" action="/events/delete/<%= event.id %>" style="display: inline;" 
                              onsubmit="return confirm('Bạn có chắc chắn muốn xóa sự kiện này?')">
                            <button type="submit" class="btn btn-danger btn-small">
                                <i class="fas fa-trash"></i>
                                Xóa
                            </button>
                        </form>
                    </div>
                </div>
            <% }); %>
        </div>
        
        <% if (events.length > 6) { %>
            <div style="text-align: center; margin-top: 2rem;">
                <a href="/events" class="btn">
                    <i class="fas fa-arrow-right"></i>
                    Xem thêm <%= events.length - 6 %> sự kiện
                </a>
            </div>
        <% } %>
    <% } %>
</div>
