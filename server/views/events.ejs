<!-- Events Section -->
<div class="events-section">
    <div class="section-header">
        <h2 class="section-title">
            <i class="fas fa-calendar-check"></i>
            Tất cả sự kiện
        </h2>
        <a href="/events/add" class="btn btn-success">
            <i class="fas fa-plus"></i>
            Thêm sự kiện mới
        </a>
    </div>

    <% if (events.length === 0) { %>
        <div class="empty-state">
            <i class="fas fa-calendar-plus"></i>
            <h3>Chưa có sự kiện nào</h3>
            <p>Hãy bắt đầu bằng cách thêm sự kiện đầu tiên của bạn!</p>
            <a href="/events/add" class="btn btn-success">
                <i class="fas fa-plus"></i>
                Thêm sự kiện đầu tiên
            </a>
        </div>
    <% } else { %>
        <div class="events-grid">
            <% events.forEach(event => { %>
                <div class="event-card">
                    <h3 class="event-title"><%= event.title %></h3>
                    
                    <div class="event-time">
                        <i class="fas fa-clock"></i>
                        <%= new Date(event.time).toLocaleString('vi-VN', {
                            year: 'numeric',
                            month: 'long',
                            day: 'numeric',
                            hour: '2-digit',
                            minute: '2-digit'
                        }) %>
                    </div>
                    
                    <div class="event-description">
                        <%= event.description %>
                    </div>
                    
                    <div class="event-address">
                        <i class="fas fa-map-marker-alt"></i>
                        <%= event.address %>
                    </div>
                    
                    <div class="event-actions">
                        <a href="/events/edit/<%= event.id %>" class="btn btn-warning btn-small">
                            <i class="fas fa-edit"></i>
                            Chỉnh sửa
                        </a>
                        <form method="POST" action="/events/delete/<%= event.id %>" style="display: inline;" 
                              onsubmit="return confirm('Bạn có chắc chắn muốn xóa sự kiện này?')">
                            <button type="submit" class="btn btn-danger btn-small">
                                <i class="fas fa-trash"></i>
                                Xóa
                            </button>
                        </form>
                    </div>
                </div>
            <% }); %>
        </div>
    <% } %>
</div>

<script>
    // Thêm hiệu ứng fade-in cho các card
    document.addEventListener('DOMContentLoaded', function() {
        const cards = document.querySelectorAll('.event-card');
        cards.forEach((card, index) => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
            
            setTimeout(() => {
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }, index * 100);
        });
    });
</script>
